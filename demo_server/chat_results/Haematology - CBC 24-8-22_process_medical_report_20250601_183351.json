{
    "status": "error",
    "message": "Unknown error occurred",
    "file_path": "C:\\Users\\chinmay alse\\Desktop\\batch\\Haematology - CBC 24-8-22.pdf",
    "batch_id": "7914306d-40e4-4b3f-8507-9a851172d733",
    "success": true,
    "extracted_text": "Haematology Report\n(Relevarit estimations were carried out by Mythic 22 Automated Haematology Analyzer & checked manually)\nParameter Name\nHemoglobin (Hb)\nESR(Westergreen)\nTotal WBC Count(TC)\nDifferential WBC Count (DC)\nNeutrophils\nLymphocytes\nMonocytes\nEosinophis\nBasophils\nTotal Cir. Eosinophils\nTotal RBC Count\nHCT/PCV\nMCV\nMCH\nMCHC\nRDW\nPOW\nTotal Platelete Count (PC)\nHPV\nPCT\nBedding Time(BT)\nCloting Time(CT)\nResults\n(89%)14.2 gm/dl\n5.2 mm/1st hr\n5,600 /cumm\n47 %\n44%\n08%\n01%\n00%\n56 /cumm\n4.89 m/ul\n42.6%\n87.1 fL\n29.0 pg\n33.3 g/dl\n15.1%\n13.0 fL\n2,13,000 /cumm\n8.0 fL\n0.170 %\nMin\nMin\nM:13-18 gm/dl, F:11.5-16.5 gm/dl\nChild:10-13 gm/dl.\nInfant: (One year)8-10 gm/dl.\nMale: 0-10, F:0-20 mm/1st hr.\nAdult: 4000-11000/cumm\nChildren: 5,000-15,000/cumm\nInfant(One Year):\n6,000-18,000/cumm\nChild: 25-66 %, Adult: 40-75 %\nChild: 52-62 %, Adult: 20-50 %\nChild: 03-07 %, Adult: 02-10 %\nChild: 01-03 %, Adult: 01-06 %\nAdult: 00-01 %\n50-400/cumm\nM: 4.5-6.5, F:3.8-5.8 m/ul\nM: 40-54%, F:37-47%\n76-94 fL\n27-32 pg\n29-34 g/dl\n11-16%\n35-56 fL\n150,000-450,000/cumm\n7.0-11.0 fL\n0.200 - 0.500%\n01-07 Min\n03-11 Min",
    "extraction_method": "gemini_2.0_flash",
    "report_type": "CBC",
    "confidence": 0.5,
    "keywords_identified": [
        "CBC",
        "Hemoglobin",
        "WBC",
        "Neutrophils",
        "Lymphocytes",
        "Monocytes",
        "Eosinophis",
        "Basophils",
        "RBC",
        "HCT",
        "MCV",
        "MCH",
        "MCHC",
        "RDW",
        "Platelete"
    ],
    "reason": "",
    "enhanced_text": {
        "test": "Complete Blood Count (CBC)",
        "hospital_lab_name": "NA",
        "hospital_lab_location": "NA",
        "reported_date": "NA",
        "Patient Name": "NA",
        "parameters": [
            {
                "parameter": "Hemoglobin",
                "sub_parameter": "NA",
                "value": 14.2,
                "units": "g/dl"
            },
            {
                "parameter": "Total WBC/leukocyte count",
                "sub_parameter": "NA",
                "value": 5.6,
                "units": "x10^3/ul"
            },
            {
                "parameter": "WBC/Leukocyte differential count",
                "sub_parameter": "Neutrophils",
                "value": 47.0,
                "units": "%"
            },
            {
                "parameter": "WBC/Leukocyte differential count",
                "sub_parameter": "Lymphocyte",
                "value": 44.0,
                "units": "%"
            },
            {
                "parameter": "WBC/Leukocyte differential count",
                "sub_parameter": "Monocyte",
                "value": 8.0,
                "units": "%"
            },
            {
                "parameter": "WBC/Leukocyte differential count",
                "sub_parameter": "Eosinophil",
                "value": 1.0,
                "units": "%"
            },
            {
                "parameter": "WBC/Leukocyte differential count",
                "sub_parameter": "Basophil",
                "value": 0.0,
                "units": "%"
            },
            {
                "parameter": "Total RBC count",
                "sub_parameter": "NA",
                "value": 4.89,
                "units": "mil/Î¼L"
            },
            {
                "parameter": "Hematocrit/PCV",
                "sub_parameter": "NA",
                "value": 42.6,
                "units": "%"
            },
            {
                "parameter": "RBC indices",
                "sub_parameter": "MCV",
                "value": 87.1,
                "units": "fl"
            },
            {
                "parameter": "RBC indices",
                "sub_parameter": "MCH",
                "value": 29.0,
                "units": "pg"
            },
            {
                "parameter": "RBC indices",
                "sub_parameter": "MCHC",
                "value": 33.3,
                "units": "g/dl"
            },
            {
                "parameter": "RBC indices",
                "sub_parameter": "RDW",
                "value": 15.1,
                "units": "%"
            },
            {
                "parameter": "Platelet count",
                "sub_parameter": "NA",
                "value": 213,
                "units": "K/cmm"
            }
        ]
    },
    "verified_text": "{\n  \"test\": \"Complete Blood Count (CBC)\",\n  \"hospital_lab_name\": \"NA\",\n  \"hospital_lab_location\": \"NA\",\n  \"reported_date\": \"NA\",\n  \"Patient Name\": \"NA\",\n  \"parameters\": [\n    {\n      \"parameter\": \"Hemoglobin\",\n      \"sub_parameter\": \"NA\",\n      \"value\": 14.2,\n      \"units\": \"g dl\"\n    },\n    {\n      \"parameter\": \"Total WBC leukocyte count\",\n      \"sub_parameter\": \"NA\",\n      \"value\": 5.6,\n      \"units\": \"x10^3 ul\"\n    },\n    {\n      \"parameter\": \"WBC Leukocyte differential count\",\n      \"sub_parameter\": \"Neutrophils\",\n      \"value\": 47.0,\n      \"units\": \"%\"\n    },\n    {\n      \"parameter\": \"WBC Leukocyte differential count\",\n      \"sub_parameter\": \"Lymphocyte\",\n      \"value\": 44.0,\n      \"units\": \"%\"\n    },\n    {\n      \"parameter\": \"WBC Leukocyte differential count\",\n      \"sub_parameter\": \"Monocyte\",\n      \"value\": 8.0,\n      \"units\": \"%\"\n    },\n    {\n      \"parameter\": \"WBC Leukocyte differential count\",\n      \"sub_parameter\": \"Eosinophil\",\n      \"value\": 1.0,\n      \"units\": \"%\"\n    },\n    {\n      \"parameter\": \"WBC Leukocyte differential count\",\n      \"sub_parameter\": \"Basophil\",\n      \"value\": 0.0,\n      \"units\": \"%\"\n    },\n    {\n      \"parameter\": \"Total RBC count\",\n      \"sub_parameter\": \"NA\",\n      \"value\": 4.89,\n      \"units\": \"mil \\u03bcL\"\n    },\n    {\n      \"parameter\": \"Hematocrit PCV\",\n      \"sub_parameter\": \"NA\",\n      \"value\": 42.6,\n      \"units\": \"%\"\n    },\n    {\n      \"parameter\": \"RBC indices\",\n      \"sub_parameter\": \"MCV\",\n      \"value\": 87.1,\n      \"units\": \"fl\"\n    },\n    {\n      \"parameter\": \"RBC indices\",\n      \"sub_parameter\": \"MCH\",\n      \"value\": 29.0,\n      \"units\": \"pg\"\n    },\n    {\n      \"parameter\": \"RBC indices\",\n      \"sub_parameter\": \"MCHC\",\n      \"value\": 33.3,\n      \"units\": \"g dl\"\n    },\n    {\n      \"parameter\": \"RBC indices\",\n      \"sub_parameter\": \"RDW\",\n      \"value\": 15.1,\n      \"units\": \"%\"\n    },\n    {\n      \"parameter\": \"Platelet count\",\n      \"sub_parameter\": \"NA\",\n      \"value\": 213,\n      \"units\": \"K cmm\"\n    }\n  ]\n}",
    "processing_time": "19.68 seconds",
    "file_processed": "Haematology - CBC 24-8-22.pdf",
    "timestamp": "2025-06-01 18:33:51",
    "json_saved_to": "results\\cbc\\Haematology - CBC 24-8-22_20250601_183351.json",
    "context_messages": [
        {
            "level": "info",
            "message": "Processing medical report: C:\\Users\\chinmay alse\\Desktop\\batch\\Haematology - CBC 24-8-22.pdf"
        },
        {
            "level": "info",
            "message": "Converting PDF to images..."
        },
        {
            "level": "info",
            "message": "Converted PDF to 1 images using enhanced method"
        },
        {
            "level": "info",
            "message": "Successfully converted PDF to 1 images"
        },
        {
            "level": "info",
            "message": "Extracting text using method: auto"
        },
        {
            "level": "info",
            "message": "Attempting extraction with Gemini 2.0 Flash..."
        },
        {
            "level": "info",
            "message": "Extraction with Gemini 2.0 Flash successful"
        },
        {
            "level": "info",
            "message": "Reading classification system prompt..."
        },
        {
            "level": "info",
            "message": "Classifying the medical report..."
        },
        {
            "level": "info",
            "message": "Classification with Gemini successful"
        },
        {
            "level": "info",
            "message": "Classification complete: CBC"
        },
        {
            "level": "info",
            "message": "Enhancing extracted text for report type: CBC"
        },
        {
            "level": "info",
            "message": "Text enhancement successful"
        },
        {
            "level": "info",
            "message": "Verification with Gemini complete"
        },
        {
            "level": "info",
            "message": "Medical report processing complete in 19.68 seconds"
        },
        {
            "level": "info",
            "message": "Removed temporary image: converted_images\\Haematology - CBC 24-8-22_page_1_converted.png"
        }
    ]
}